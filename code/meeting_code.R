

oceans <- c("Arctic","Atlantic","Pacific")

temp_data <- data.frame(rcp_26)

data_new <- NULL
for(laura in oceans){
  
  print(laura)
  
  num_species <- median(temp_data[temp_data$ocean == laura,"nspecies"],na.rm=T)
  
  data_new <- rbind(data_new,data.frame(ocean=laura,num_species=num_species))
  
}


#note the object rcp_26 is from the 01_overlay_analysis.R

#find the median number of species per ocean - this gives you the same answer as the for loop above
data_new2 <- rcp_26%>%
             data.frame()%>%
             group_by(ocean)%>%
             summarise(num_species = median(nspecies,na.rm=T))%>%
             ungroup()%>%
             data.frame()

#find the median number of species per region
data_new3 <- rcp_26%>%
            data.frame()%>%
            filter(!is.na(name))%>%
            group_by(region)%>%
            summarise(num_species = median(nspecies,na.rm=T))%>%
            ungroup()%>%
            data.frame()

#find the median number of species per region but only for datapoints that fall within MPAs
data_new4 <- rcp_26%>%
          data.frame()%>%
          filter(!is.na(name))%>% #this means it is only taking datapoints from Dan's analysis that have a name (aka are within an overlaid polyon)
          group_by(region)%>%
          summarise(num_species = median(nspecies,na.rm=T))%>%
          ungroup()%>%
          data.frame()

#id which sites don't have any raster values (meaning they were too small and didn't coincide with the resolution of Dan's raster)
missing_sites <- setdiff(can_mcn%>%pull(NAME_E)%>%unique(),rcp_26%>%pull(name)%>%unique())
